(this["webpackJsonpmarina-api-test-app"]=this["webpackJsonpmarina-api-test-app"]||[]).push([[0],{20:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),s=r(10),c=r.n(s),u=(r(20),r(14)),i=r(0),o=r.n(i),d=r(2),f=r(5),l=r(11),p=r(12),x=r(9),b=r(15);function h(e,t){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(o.a.mark((function e(t,r){var n,a,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={fail:0,success:0},e.next=3,Object(x.a)(r());case 3:a=Object(p.a)(t),e.prev=4,a.s();case 6:if((s=a.n()).done){e.next=16;break}return c=s.value,e.next=10,Object(x.a)(w(c));case 10:return(u=e.sent).success?n.success=n.success+1:n.fail=n.fail+1,e.next=14,u;case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})))).apply(this,arguments)}function w(e){return m.apply(this,arguments)}function m(){return(m=Object(d.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,n=!0,e.prev=2,e.next=5,t.function();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),r=e.t0.message,n=!1;case 11:return e.abrupt("return",{name:t.name,error:r,success:n});case 12:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function j(){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<60)){e.next=12;break}if("undefined"!==typeof window.marina){e.next=7;break}return e.next=6,new Promise((function(e){return setTimeout((function(){return e()}),1e3)}));case 6:return e.abrupt("continue",9);case 7:return r=window.marina,e.abrupt("return",r);case 9:t++,e.next=1;break;case 12:throw new Error("Marina needs to be installed");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=r(13),k=r.n(O),y=r(1),A=Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"white",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),N=Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:Object(y.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),E=function(e){var t=e.name,r=e.error,n=e.success;e.index;return Object(y.jsxs)("div",{className:k()("mb-2 w-106 flex flex-row justify-between m-auto bg-gradient-to-r  p-6 gap-8 rounded-lg border-2 ",{"from-green-700 via-green-800 to-green-900 border-green-500":n},{"from-red-700 via-red-800 to-red-900 border-red-500":!n}),children:[Object(y.jsxs)("div",{className:"text-left my-auto",children:[Object(y.jsx)("div",{className:"text-lg text-white-500 font-light",children:t}),!n&&Object(y.jsxs)("div",{className:"mt-1",children:[Object(y.jsx)("div",{className:"text-sm text-purple-100 font-bold",children:"Error:"}),Object(y.jsx)("div",{className:"text-xs text-purple-100",children:r})]})]}),n?A:N]})},L=function(e){var t=e.tests,r=Object(n.useState)([]),a=Object(f.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(!1),p=Object(f.a)(i,2),x=p[0],b=p[1],v=Object(n.useState)(!1),w=Object(f.a)(v,2),m=w[0],g=w[1],O=Object(n.useState)(void 0),k=Object(f.a)(O,2),A=k[0],N=k[1],L=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,j();case 4:return t=e.sent,e.next=7,t.isEnabled();case 7:if(e.sent){e.next=11;break}return e.next=11,t.enable();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),N(e.t0.message||e.t0);case 17:return e.prev=17,g(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(o.a.mark((function e(){var r,n,a,s,u,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x&&!m){e.next=2;break}return e.abrupt("return");case 2:N(void 0),b(!0),e.prev=4,c([]),r=!0,n=!1,e.prev=8,s=function(){var e=d;c((function(t){return t.concat([e])}))},u=Object(l.a)(h(t,L));case 11:return e.next=13,u.next();case 13:return i=e.sent,r=i.done,e.next=17,i.value;case 17:if(d=e.sent,r){e.next=23;break}s();case 20:r=!0,e.next=11;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(8),n=!0,a=e.t0;case 29:if(e.prev=29,e.prev=30,r||null==u.return){e.next=34;break}return e.next=34,u.return();case 34:if(e.prev=34,!n){e.next=37;break}throw a;case 37:return e.finish(34);case 38:return e.finish(29);case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(4),console.error(e.t1);case 44:return e.prev=44,b(!1),e.finish(44);case 47:case"end":return e.stop()}}),e,null,[[4,41,44,47],[8,25,29,39],[30,,34,38]])})));return function(){return e.apply(this,arguments)}}(),D=s.map((function(e,t){return Object(y.jsx)("span",{className:e.success?"success":"error",children:Object(y.jsx)(E,Object(u.a)({index:t},e),t)})}));return Object(y.jsxs)("div",{className:"flex flex-row-reverse justify-between",children:[Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"flex flex-col-reverse",children:[x&&Object(y.jsx)("span",{className:"text-sm text-center m-2 pb-3 animate-pulse",children:"tests are loading..."}),m&&Object(y.jsx)("span",{className:"text-sm text-center m-2 pb-3 animate-pulse",children:"Trying to access your Marina..."}),A&&Object(y.jsx)("span",{className:"text-sm text-center m-2 pb-3",children:A}),Object(y.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-3",onClick:S,disabled:x,children:"RUN"})]})}),Object(y.jsx)("div",{className:"ml-3",children:D})]})},S=r(4),D=[{name:"isEnabled should return true",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.t0=S,e.next=6,t.isEnabled();case 6:e.t1=e.sent,e.t0.strictEqual.call(e.t0,e.t1,!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"enable should throw an error",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:return t=e.sent,e.next=6,t.enable();case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:throw new Error("enable() do not throw any errors");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{name:'getNetwork should return "liquid" or "regtest"',function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getNetwork();case 5:if("liquid"!==(r=e.sent)&&"regtest"!==r){e.next=8;break}return e.abrupt("return");case 8:throw new Error("network value is invalid");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"getNextAddress should generate a new address",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getAddresses();case 5:return r=e.sent,e.next=8,t.getNextAddress();case 8:if(n=e.sent,!r.includes(n)){e.next=11;break}throw new Error("next address already included in adddresses array");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"getNextChangeAddress should generate a new change address",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getAddresses();case 5:return r=e.sent,e.next=8,t.getNextChangeAddress();case 8:if(n=e.sent,!r.includes(n)){e.next=11;break}throw new Error("next address already included in adddresses array");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"getAddresses should return generated addresses",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getNextAddress();case 5:return r=e.sent,e.next=8,t.getNextChangeAddress();case 8:return n=e.sent,e.next=11,t.getAddresses();case 11:if((a=e.sent).map((function(e){return e.confidentialAddress})).includes(r.confidentialAddress)){e.next=14;break}throw new Error("getAddresses does not return the next address");case 14:if(a.map((function(e){return e.confidentialAddress})).includes(n.confidentialAddress)){e.next=16;break}throw new Error("getAddresses does not return the next change address");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"getCoins should return an array",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getCoins();case 5:if(r=e.sent,!Array.isArray(r)){e.next=8;break}return e.abrupt("return");case 8:throw new Error("do not return an array");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"getTransactions should return an array",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getTransactions();case 5:if(r=e.sent,!Array.isArray(r)){e.next=8;break}return e.abrupt("return");case 8:throw new Error("do not return an array");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"getBalances should return an array",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.getBalances();case 5:if(r=e.sent,!Array.isArray(r)){e.next=8;break}return e.abrupt("return");case 8:throw new Error("do not return an array");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"on() should return random event id",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,r=t.on("DISABLED",(function(){return""})),n=t.on("DISABLED",(function(){return""})),S.notDeepStrictEqual(r,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"on() should throw an error with invalid event type name",function:function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,r=t.on("DISABLED",(function(){return""})),n=t.on("DISABLED",(function(){return""})),S.throws((function(){t.on("notamarinaeventType",(function(){return""}))})),S.notDeepStrictEqual(r,n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}];var B=function(){return Object(y.jsx)("div",{className:"App m-5",children:Object(y.jsx)(L,{tests:D})})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,29)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(B,{})}),document.getElementById("root")),C()}},[[28,1,2]]]);
//# sourceMappingURL=main.c17c320f.chunk.js.map